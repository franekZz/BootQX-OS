<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BootQX OS</title>
    <style>
        :root { --p-color: #bf00ff; --p-soft: #6a00b3; }
        body { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; overflow: hidden; background: #0d001a; transition: 0.5s; }
        
        /* CHMURKI W TLE */
        .clouds-bg { position: fixed; width: 100%; height: 100%; background: linear-gradient(to bottom, #1a0033, #0d001a); z-index: -1; }
        .cloud { position: absolute; background: rgba(191, 0, 255, 0.1); border-radius: 50%; filter: blur(40px); animation: move 20s infinite linear; }
        @keyframes move { from { transform: translateX(-100px); } to { transform: translateX(100vw); } }

        /* KREATOR KONFIGURACJI */
        #config-screen { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 1000; }
        .config-step { background: rgba(26, 0, 51, 0.9); border: 2px solid var(--p-color); padding: 40px; border-radius: 20px; text-align: center; color: #fff; width: 350px; display: none; box-shadow: 0 0 20px rgba(191,0,255,0.3); }
        .config-step.active { display: block; animation: fadeIn 0.5s; }

        input, select { margin: 20px 0; padding: 12px; width: 100%; border-radius: 8px; border: 1px solid var(--p-color); background: #000; color: #fff; box-sizing: border-box; }
        
        /* ANIMOWANY PRZYCISK */
        .btn-next { 
            cursor: pointer; background: var(--p-color); color: white; border: none; 
            padding: 12px 25px; font-weight: bold; border-radius: 8px; width: 100%; 
            transition: 0.3s ease; 
        }
        .btn-next:hover { transform: scale(1.05) translateY(-3px); box-shadow: 0 5px 15px rgba(191,0,255,0.5); background: #d433ff; }

        /* RESZTA INTERFEJSU (LOGOWANIE, PULPIT) */
        #loading-screen, #login-screen { position: fixed; inset: 0; display: none; flex-direction: column; align-items: center; justify-content: center; background: #0d001a; color: #fff; z-index: 2000; }
        #desktop { display: none; width: 100vw; height: 100vh; position: relative; }
        
        /* MOTYWY */
        .theme-dark-purple { background: #0d001a; }
        .theme-light-purple { background: #f5e6ff; }
        .theme-light-purple .taskbar { background: #6a00b3; }

        .window { width: 500px; height: 350px; background: #fff; color: #000; border-radius: 8px; position: absolute; display: none; flex-direction: column; box-shadow: 0 10px 40px rgba(0,0,0,0.5); border: 1px solid #333; z-index: 100; }
        .window-header { background: #222; color: #fff; padding: 10px; cursor: move; display: flex; justify-content: space-between; }
        
        .taskbar { position: absolute; bottom: 0; width: 100%; height: 45px; background: #111; display: flex; align-items: center; padding: 0 15px; box-sizing: border-box; color: white; }
        .start-btn { font-weight: bold; color: var(--p-color); cursor: pointer; font-size: 20px; }

        .desktop-icon { position: absolute; top: 30px; left: 30px; cursor: pointer; text-align: center; color: white; font-size: 13px; }
        .desktop-icon div { width: 50px; height: 50px; background: #333; border: 2px solid var(--p-color); border-radius: 10px; margin-bottom: 5px; display: flex; align-items: center; justify-content: center; font-weight: bold; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="theme-dark-purple">

    <div class="clouds-bg" id="clouds"></div>

    <div id="config-screen">
        <div id="step1" class="config-step active">
            <h2>Witaj w BootQX</h2>
            <p>Jak masz na imię?</p>
            <input type="text" id="uname" placeholder="Imię użytkownika...">
            <button class="btn-next" onclick="nextStep(2)">Dalej</button>
        </div>

        <div id="step2" class="config-step">
            <h2>Zabezpieczenia</h2>
            <p>Ustaw hasło (zostaw puste, jeśli nie chcesz):</p>
            <input type="password" id="upass" placeholder="Hasło...">
            <button class="btn-next" onclick="nextStep(3)">Dalej</button>
        </div>

        <div id="step3" class="config-step">
            <h2>Wygląd</h2>
            <p>Wybierz swój styl:</p>
            <select id="utheme">
                <option value="dark-purple">Czarno-Fioletowy</option>
                <option value="light-purple">Biało-Fioletowy</option>
            </select>
            <button class="btn-next" onclick="finishSetup()">Uruchom System</button>
        </div>
    </div>

    <div id="loading-screen">
        <h1 id="loading-txt">BootQX OS</h1>
        <div style="width: 200px; height: 5px; background: #333; margin-top: 10px;">
            <div id="load-bar" style="width: 0%; height: 100%; background: var(--p-color);"></div>
        </div>
    </div>

    <div id="login-screen">
        <h2 id="login-greet">Zaloguj się</h2>
        <div id="pass-area">
            <input type="password" id="pass-in" placeholder="Hasło" style="width: 250px;">
            <button class="btn-next" onclick="tryLogin()">Zaloguj</button>
        </div>
    </div>

    <div id="desktop">
        <div class="desktop-icon" onclick="toggleWin('cmd-win')">
            <div>>_</div>
            CMD.exe
        </div>

        <div id="cmd-win" class="window" style="left:100px; top:50px;">
            <div class="window-header"><span>Terminal</span><span onclick="toggleWin('cmd-win')" style="cursor:pointer">✕</span></div>
            <div id="term-body" style="background:#000; color:#0f0; flex:1; padding:10px; font-family:monospace; overflow-y:auto;">
                <div>BootQX Terminal. Wpisz 'notatnik.exe'</div>
                <span id="prompt">C:\></span><input type="text" id="cmd-in" style="background:transparent; border:none; color:#0f0; outline:none; width:70%;">
            </div>
        </div>

        <div id="note-win" class="window" style="left:150px; top:100px;">
            <div class="window-header"><span>Notatnik</span><span onclick="toggleWin('note-win')" style="cursor:pointer">✕</span></div>
            <textarea style="flex:1; border:none; padding:10px; resize:none; outline:none;"></textarea>
        </div>

        <div class="taskbar">
            <div class="start-btn">QX</div>
            <div id="clock" style="margin-left: auto;"></div>
        </div>
    </div>

    <script>
        // Tworzenie chmurek
        const clouds = document.getElementById('clouds');
        for(let i=0; i<8; i++) {
            let c = document.createElement('div');
            c.className = 'cloud';
            c.style.width = Math.random() * 200 + 100 + 'px';
            c.style.height = c.style.width;
            c.style.top = Math.random() * 100 + 'vh';
            c.style.left = Math.random() * 100 + 'vw';
            c.style.animationDelay = Math.random() * 20 + 's';
            clouds.appendChild(c);
        }

        let sysData = { name: "", pass: "", theme: "" };

        function nextStep(s) {
            document.querySelectorAll('.config-step').forEach(e => e.classList.remove('active'));
            document.getElementById('step' + s).classList.add('active');
        }

        function finishSetup() {
            sysData.name = document.getElementById('uname').value || "Użytkownik";
            sysData.pass = document.getElementById('upass').value;
            sysData.theme = document.getElementById('utheme').value;
            document.body.className = "theme-" + sysData.theme;
            
            document.getElementById('config-screen').style.display = 'none';
            document.getElementById('loading-screen').style.display = 'flex';
            
            let p = 0;
            let itv = setInterval(() => {
                p += 5;
                document.getElementById('load-bar').style.width = p + "%";
                if(p >= 100) {
                    clearInterval(itv);
                    showLogin();
                }
            }, 100);
        }

        function showLogin() {
            document.getElementById('loading-screen').style.display = 'none';
            document.getElementById('login-screen').style.display = 'flex';
            document.getElementById('login-greet').innerText = "Witaj, " + sysData.name;
            if(!sysData.pass) document.getElementById('pass-in').style.display = 'none';
        }

        function tryLogin() {
            let p = document.getElementById('pass-in').value;
            if(p === sysData.pass) {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('desktop').style.display = 'block';
                document.getElementById('prompt').innerText = "C:\\Users\\" + sysData.name + ">";
                startClock();
            } else alert("Błąd!");
        }

        function toggleWin(id) {
            let w = document.getElementById(id);
            w.style.display = w.style.display === 'flex' ? 'none' : 'flex';
        }

        function startClock() {
            setInterval(() => {
                document.getElementById('clock').innerText = new Date().toLocaleTimeString();
            }, 1000);
        }

        // CMD LOGIC
        document.getElementById('cmd-in').addEventListener('keypress', (e) => {
            if(e.key === 'Enter') {
                if(e.target.value.toLowerCase() === 'notatnik.exe') toggleWin('note-win');
                e.target.value = '';
            }
        });

        // DRAG LOGIC
        let active = null, ox, oy;
        document.querySelectorAll('.window-header').forEach(h => {
            h.onmousedown = (e) => {
                active = h.parentElement;
                ox = e.clientX - active.offsetLeft;
                oy = e.clientY - active.offsetTop;
            };
        });
        document.onmousemove = (e) => {
            if(active) {
                active.style.left = e.clientX - ox + 'px';
                active.style.top = e.clientY - oy + 'px';
            }
        };
        document.onmouseup = () => active = null;
    </script>
</body>
</html>
